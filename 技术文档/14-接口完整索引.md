# 接口完整索引

## 接口分类概览

| 分类 | 说明 |
|------|------|
| 组件Props接口 | 组件属性定义 |
| 事件接口 | 事件处理器类型 |
| 主题接口 | 主题系统相关 |
| 样式接口 | 样式相关类型 |
| 数据接口 | 数据结构定义 |
| 配置接口 | 配置对象类型 |
| 工具类型 | TypeScript工具类型 |
| 插件接口 | 插件系统接口 |

---

## 一、组件Props接口

### 基础组件Props

#### ButtonProps
按钮组件属性

```typescript
interface ButtonProps {
  type?: 'default' | 'primary' | 'dashed' | 'link' | 'text';
  size?: 'small' | 'medium' | 'large';
  disabled?: boolean;
  loading?: boolean;
  danger?: boolean;
  icon?: ReactNode;
  htmlType?: 'button' | 'submit' | 'reset';
  children?: ReactNode;
  onClick?: (event: MouseEvent<HTMLButtonElement>) => void;
  className?: string;
  style?: CSSProperties;
}
```

---

#### InputProps
输入框组件属性

```typescript
interface InputProps {
  value?: string;
  defaultValue?: string;
  type?: 'text' | 'password' | 'number' | 'email' | 'tel' | 'url';
  placeholder?: string;
  disabled?: boolean;
  readOnly?: boolean;
  maxLength?: number;
  prefix?: ReactNode;
  suffix?: ReactNode;
  clearable?: boolean;
  size?: 'small' | 'medium' | 'large';
  status?: 'default' | 'error' | 'warning';
  onChange?: (value: string, event: ChangeEvent<HTMLInputElement>) => void;
  onFocus?: (event: FocusEvent<HTMLInputElement>) => void;
  onBlur?: (event: FocusEvent<HTMLInputElement>) => void;
  onPressEnter?: (event: KeyboardEvent<HTMLInputElement>) => void;
  onClear?: () => void;
  className?: string;
  style?: CSSProperties;
}
```

---

#### SelectProps
选择器组件属性

```typescript
interface SelectProps<T = any> {
  value?: T | T[];
  defaultValue?: T | T[];
  options: SelectOption<T>[];
  placeholder?: string;
  disabled?: boolean;
  searchable?: boolean;
  clearable?: boolean;
  multiple?: boolean;
  maxTagCount?: number;
  loading?: boolean;
  size?: 'small' | 'medium' | 'large';
  onChange?: (value: T | T[], option: SelectOption<T> | SelectOption<T>[]) => void;
  onSearch?: (searchText: string) => void;
  onClear?: () => void;
  className?: string;
  style?: CSSProperties;
}

interface SelectOption<T = any> {
  label: string;
  value: T;
  disabled?: boolean;
  children?: SelectOption<T>[];
}
```

---

#### CheckboxProps
复选框组件属性

```typescript
interface CheckboxProps {
  checked?: boolean;
  defaultChecked?: boolean;
  disabled?: boolean;
  indeterminate?: boolean;
  value?: any;
  children?: ReactNode;
  onChange?: (checked: boolean, event: ChangeEvent<HTMLInputElement>) => void;
  className?: string;
  style?: CSSProperties;
}
```

---

#### RadioProps
单选框组件属性

```typescript
interface RadioProps {
  checked?: boolean;
  defaultChecked?: boolean;
  disabled?: boolean;
  value?: any;
  children?: ReactNode;
  onChange?: (checked: boolean, event: ChangeEvent<HTMLInputElement>) => void;
  className?: string;
  style?: CSSProperties;
}

interface RadioGroupProps {
  value?: any;
  defaultValue?: any;
  options?: RadioOption[];
  disabled?: boolean;
  direction?: 'horizontal' | 'vertical';
  onChange?: (value: any) => void;
  children?: ReactNode;
  className?: string;
}

interface RadioOption {
  label: string;
  value: any;
  disabled?: boolean;
}
```

---

### 布局组件Props

#### RowProps
栅格行属性

```typescript
interface RowProps {
  gutter?: number | [number, number];
  justify?: 'start' | 'end' | 'center' | 'space-around' | 'space-between' | 'space-evenly';
  align?: 'top' | 'middle' | 'bottom' | 'stretch';
  wrap?: boolean;
  children?: ReactNode;
  className?: string;
  style?: CSSProperties;
}
```

---

#### ColProps
栅格列属性

```typescript
interface ColProps {
  span?: number;
  offset?: number;
  push?: number;
  pull?: number;
  order?: number;
  xs?: number | ColSize;
  sm?: number | ColSize;
  md?: number | ColSize;
  lg?: number | ColSize;
  xl?: number | ColSize;
  xxl?: number | ColSize;
  children?: ReactNode;
  className?: string;
  style?: CSSProperties;
}

interface ColSize {
  span?: number;
  offset?: number;
  push?: number;
  pull?: number;
  order?: number;
}
```

---

#### FlexProps
弹性布局属性

```typescript
interface FlexProps {
  direction?: 'row' | 'row-reverse' | 'column' | 'column-reverse';
  justify?: 'start' | 'end' | 'center' | 'space-between' | 'space-around' | 'space-evenly';
  align?: 'start' | 'end' | 'center' | 'stretch' | 'baseline';
  wrap?: 'nowrap' | 'wrap' | 'wrap-reverse';
  gap?: number | string;
  children?: ReactNode;
  className?: string;
  style?: CSSProperties;
}
```

---

### 表单组件Props

#### FormProps
表单属性

```typescript
interface FormProps {
  form?: FormInstance;
  name?: string;
  initialValues?: Record<string, any>;
  layout?: 'horizontal' | 'vertical' | 'inline';
  labelCol?: ColProps;
  wrapperCol?: ColProps;
  labelAlign?: 'left' | 'right';
  labelWrap?: boolean;
  colon?: boolean;
  disabled?: boolean;
  validateTrigger?: string | string[];
  preserve?: boolean;
  onFinish?: (values: Record<string, any>) => void;
  onFinishFailed?: (errorInfo: ValidateErrorInfo) => void;
  onValuesChange?: (changedValues: any, allValues: any) => void;
  onFieldsChange?: (changedFields: FieldData[], allFields: FieldData[]) => void;
  children?: ReactNode;
  className?: string;
  style?: CSSProperties;
}
```

---

#### FormItemProps
表单项属性

```typescript
interface FormItemProps {
  name?: NamePath;
  label?: ReactNode;
  labelCol?: ColProps;
  wrapperCol?: ColProps;
  required?: boolean;
  rules?: FormRule[];
  dependencies?: NamePath[];
  validateTrigger?: string | string[];
  validateFirst?: boolean | 'parallel';
  help?: ReactNode;
  extra?: ReactNode;
  tooltip?: ReactNode;
  hasFeedback?: boolean;
  hidden?: boolean;
  noStyle?: boolean;
  shouldUpdate?: boolean | ((prevValues: any, curValues: any) => boolean);
  children?: ReactNode | ((control: ControlProps) => ReactNode);
  className?: string;
  style?: CSSProperties;
}

type NamePath = string | number | (string | number)[];
```

---

### 卡片组件Props

#### BaseCardProps
基础卡片属性

```typescript
interface BaseCardProps {
  cardId: string;
  data: any;
  metadata?: CardMetadata;
  theme?: string;
  editable?: boolean;
  onEdit?: () => void;
  onClick?: (event: MouseEvent) => void;
  className?: string;
  style?: CSSProperties;
}

interface CardMetadata {
  title?: string;
  description?: string;
  tags?: string[];
  createdAt?: string;
  updatedAt?: string;
  author?: string;
  theme?: string;
  [key: string]: any;
}
```

---

#### MarkdownCardProps
Markdown卡片属性

```typescript
interface MarkdownCardProps extends BaseCardProps {
  data: {
    content: string;
    syntax?: 'gfm' | 'commonmark';
    plugins?: string[];
    sanitize?: boolean;
  };
}
```

---

#### ImageCardProps
图片卡片属性

```typescript
interface ImageCardProps extends BaseCardProps {
  data: {
    src: string;
    alt?: string;
    caption?: string;
    width?: number;
    height?: number;
    fit?: 'contain' | 'cover' | 'fill' | 'none' | 'scale-down';
    lazy?: boolean;
  };
}
```

---

## 二、事件接口

### 通用事件类型

```typescript
// 鼠标事件
type MouseEventHandler<T = Element> = (event: MouseEvent<T>) => void;

// 键盘事件
type KeyboardEventHandler<T = Element> = (event: KeyboardEvent<T>) => void;

// 焦点事件
type FocusEventHandler<T = Element> = (event: FocusEvent<T>) => void;

// 表单事件
type ChangeEventHandler<T = Element> = (event: ChangeEvent<T>) => void;
type FormEventHandler<T = Element> = (event: FormEvent<T>) => void;

// 拖拽事件
type DragEventHandler<T = Element> = (event: DragEvent<T>) => void;

// 滚动事件
type UIEventHandler<T = Element> = (event: UIEvent<T>) => void;
```

---

### 自定义事件接口

#### SelectChangeEvent
选择器变化事件

```typescript
interface SelectChangeEvent<T = any> {
  value: T | T[];
  option: SelectOption<T> | SelectOption<T>[];
}

type SelectChangeHandler<T = any> = (event: SelectChangeEvent<T>) => void;
```

---

#### FormFinishEvent
表单完成事件

```typescript
interface FormFinishEvent {
  values: Record<string, any>;
}

type FormFinishHandler = (event: FormFinishEvent) => void;
```

---

#### FormFinishFailedEvent
表单失败事件

```typescript
interface FormFinishFailedEvent {
  values: Record<string, any>;
  errorFields: FieldError[];
  outOfDate: boolean;
}

interface FieldError {
  name: NamePath;
  errors: string[];
}

type FormFinishFailedHandler = (event: FormFinishFailedEvent) => void;
```

---

#### UploadChangeEvent
上传变化事件

```typescript
interface UploadChangeEvent {
  file: UploadFile;
  fileList: UploadFile[];
}

interface UploadFile {
  uid: string;
  name: string;
  status?: 'uploading' | 'done' | 'error' | 'removed';
  response?: any;
  url?: string;
  preview?: string;
  originFileObj?: File;
  percent?: number;
}

type UploadChangeHandler = (event: UploadChangeEvent) => void;
```

---

## 三、主题接口

### Theme 主题对象

```typescript
interface Theme {
  id: string;
  name: string;
  displayName?: string;
  description?: string;
  author?: string;
  version?: string;
  variables: ThemeVariables;
  cssUrl?: string;
  preview?: string;
  category?: ThemeCategory;
  tags?: string[];
  compatibility?: ThemeCompatibility;
}

type ThemeVariables = Record<string, string>;

type ThemeCategory = 'light' | 'dark' | 'colorful' | 'minimal' | 'professional' | 'creative';

interface ThemeCompatibility {
  minVersion?: string;
  maxVersion?: string;
}
```

---

### ThemeConfig 主题配置

```typescript
interface ThemeConfig {
  id: string;
  displayName: string;
  category: ThemeCategory;
  tags: string[];
  preview: string;
  compatibility: ThemeCompatibility;
}
```

---

### ThemeProviderProps 主题提供者属性

```typescript
interface ThemeProviderProps {
  theme: string | Theme;
  children: ReactNode;
}
```

---

### ThemeContext 主题上下文

```typescript
interface ThemeContextValue {
  theme: string;
  themeObject?: Theme;
  setTheme: (themeId: string) => Promise<void>;
  getTheme: () => string;
  loadTheme: (themeId: string) => Promise<Theme>;
  unloadTheme: (themeId: string) => void;
}
```

---

## 四、样式接口

### StyleInterface 样式接口点

```typescript
interface StyleInterface {
  name: string;
  element: HTMLElement;
  classes: string[];
  variables: Record<string, string>;
}
```

---

### ClassName 类名类型

```typescript
type ClassName = string | undefined | null | false;

interface ClassDictionary {
  [key: string]: any;
}

type ClassArray = ClassValue[];

type ClassValue = ClassName | ClassDictionary | ClassArray;
```

---

### CSSVariables CSS变量

```typescript
type CSSVariables = Record<string, string>;

interface CSSVariableUpdate {
  [key: string]: string;
}
```

---

## 五、数据接口

### FieldData 字段数据

```typescript
interface FieldData {
  name: NamePath;
  value?: any;
  touched?: boolean;
  validating?: boolean;
  errors?: string[];
}
```

---

### ValidateErrorInfo 验证错误信息

```typescript
interface ValidateErrorInfo {
  values: Record<string, any>;
  errorFields: FieldError[];
  outOfDate: boolean;
}
```

---

### PaginationData 分页数据

```typescript
interface PaginationData {
  current: number;
  pageSize: number;
  total: number;
  showSizeChanger?: boolean;
  showQuickJumper?: boolean;
  pageSizeOptions?: number[];
  onChange?: (page: number, pageSize: number) => void;
  onShowSizeChange?: (current: number, size: number) => void;
}
```

---

### TableData 表格数据

```typescript
interface TableData<T = any> {
  dataSource: T[];
  columns: ColumnType<T>[];
  loading?: boolean;
  pagination?: PaginationData | false;
}

interface ColumnType<T = any> {
  title: ReactNode;
  dataIndex?: string | string[];
  key?: string;
  width?: number | string;
  align?: 'left' | 'center' | 'right';
  fixed?: 'left' | 'right';
  ellipsis?: boolean;
  sorter?: boolean | CompareFn<T>;
  sortOrder?: SortOrder;
  filters?: FilterItem[];
  filteredValue?: any[];
  filterMultiple?: boolean;
  onFilter?: (value: any, record: T) => boolean;
  render?: (value: any, record: T, index: number) => ReactNode;
}

type CompareFn<T> = (a: T, b: T, sortOrder?: SortOrder) => number;
type SortOrder = 'ascend' | 'descend' | null;

interface FilterItem {
  text: string;
  value: any;
  children?: FilterItem[];
}
```

---

### TreeData 树形数据

```typescript
interface TreeData {
  key: string;
  title: ReactNode;
  icon?: ReactNode;
  disabled?: boolean;
  disableCheckbox?: boolean;
  checkable?: boolean;
  selectable?: boolean;
  isLeaf?: boolean;
  children?: TreeData[];
  [key: string]: any;
}
```

---

## 六、配置接口

### FormRule 表单规则

```typescript
interface FormRule {
  required?: boolean;
  message?: string;
  pattern?: RegExp;
  min?: number;
  max?: number;
  len?: number;
  enum?: any[];
  whitespace?: boolean;
  type?: RuleType;
  validator?: (rule: FormRule, value: any, callback: (error?: string) => void) => Promise<void> | void;
  asyncValidator?: (rule: FormRule, value: any) => Promise<void>;
  transform?: (value: any) => any;
  warningOnly?: boolean;
}

type RuleType = 
  | 'string'
  | 'number'
  | 'boolean'
  | 'method'
  | 'regexp'
  | 'integer'
  | 'float'
  | 'array'
  | 'object'
  | 'enum'
  | 'date'
  | 'url'
  | 'hex'
  | 'email';
```

---

### ModalConfig 对话框配置

```typescript
interface ModalConfig {
  title?: ReactNode;
  content?: ReactNode;
  width?: number | string;
  centered?: boolean;
  closable?: boolean;
  maskClosable?: boolean;
  keyboard?: boolean;
  footer?: ReactNode;
  okText?: string;
  okType?: ButtonType;
  cancelText?: string;
  confirmLoading?: boolean;
  destroyOnClose?: boolean;
  mask?: boolean;
  maskStyle?: CSSProperties;
  bodyStyle?: CSSProperties;
  wrapClassName?: string;
  zIndex?: number;
  onOk?: () => void | Promise<void>;
  onCancel?: () => void;
}

type ButtonType = 'default' | 'primary' | 'dashed' | 'link' | 'text';
```

---

### NotificationConfig 通知配置

```typescript
interface NotificationConfig {
  message: ReactNode;
  description?: ReactNode;
  type?: 'info' | 'success' | 'warning' | 'error';
  duration?: number;
  placement?: NotificationPlacement;
  icon?: ReactNode;
  btn?: ReactNode;
  key?: string;
  onClick?: () => void;
  onClose?: () => void;
  style?: CSSProperties;
  className?: string;
}

type NotificationPlacement = 
  | 'topLeft'
  | 'topRight'
  | 'bottomLeft'
  | 'bottomRight'
  | 'top'
  | 'bottom';
```

---

### ChipsConfig 系统配置

```typescript
interface ChipsConfig {
  theme?: string;
  locale?: string;
  prefixCls?: string;
  iconPrefixCls?: string;
  direction?: 'ltr' | 'rtl';
  virtual?: boolean;
  dropdownMatchSelectWidth?: boolean | number;
}
```

---

## 七、工具类型

### DeepPartial 深度可选

```typescript
type DeepPartial<T> = {
  [P in keyof T]?: T[P] extends object ? DeepPartial<T[P]> : T[P];
};
```

---

### DeepReadonly 深度只读

```typescript
type DeepReadonly<T> = {
  readonly [P in keyof T]: T[P] extends object ? DeepReadonly<T[P]> : T[P];
};
```

---

### Nullable 可空类型

```typescript
type Nullable<T> = T | null;
type Undefinable<T> = T | undefined;
type Maybe<T> = T | null | undefined;
```

---

### RequireAtLeastOne 至少一个必需

```typescript
type RequireAtLeastOne<T, Keys extends keyof T = keyof T> =
  Pick<T, Exclude<keyof T, Keys>> &
  {
    [K in Keys]-?: Required<Pick<T, K>> & Partial<Pick<T, Exclude<Keys, K>>>;
  }[Keys];
```

---

### RequireOnlyOne 仅一个必需

```typescript
type RequireOnlyOne<T, Keys extends keyof T = keyof T> =
  Pick<T, Exclude<keyof T, Keys>> &
  {
    [K in Keys]-?: Required<Pick<T, K>> & Partial<Record<Exclude<Keys, K>, undefined>>;
  }[Keys];
```

---

### Modify 修改类型

```typescript
type Modify<T, R> = Omit<T, keyof R> & R;
```

---

### ValueOf 值类型

```typescript
type ValueOf<T> = T[keyof T];
```

---

### PromiseType Promise类型

```typescript
type PromiseType<T extends Promise<any>> = T extends Promise<infer U> ? U : never;
```

---

### FunctionType 函数类型

```typescript
type FunctionType<T = any> = (...args: any[]) => T;
```

---

## 八、插件接口

### Plugin 插件

```typescript
interface Plugin {
  name: string;
  version: string;
  description?: string;
  author?: string;
  install: (app: ChipsApp) => void;
  uninstall?: (app: ChipsApp) => void;
}
```

---

### PluginContext 插件上下文

```typescript
interface PluginContext {
  app: ChipsApp;
  config: ChipsConfig;
  registerComponent: (name: string, component: ComponentType<any>) => void;
  registerCard: (type: string, component: ComponentType<any>) => void;
  registerTheme: (theme: Theme) => void;
}
```

---

### ChipsApp 应用实例

```typescript
interface ChipsApp {
  config: ChipsConfig;
  use: (plugin: Plugin) => void;
  component: (name: string, component: ComponentType<any>) => void;
  mount: (container: HTMLElement | string) => void;
  unmount: () => void;
}
```

---

## 九、组件实例接口

### FormInstance 表单实例

```typescript
interface FormInstance {
  // 字段操作
  getFieldValue: (name: NamePath) => any;
  getFieldsValue: (nameList?: NamePath[] | true) => Record<string, any>;
  setFieldValue: (name: NamePath, value: any) => void;
  setFieldsValue: (values: Record<string, any>) => void;
  
  // 字段元数据
  getFieldError: (name: NamePath) => string[];
  getFieldsError: (nameList?: NamePath[]) => FieldError[];
  isFieldTouched: (name: NamePath) => boolean;
  isFieldsTouched: (nameList?: NamePath[], allTouched?: boolean) => boolean;
  isFieldValidating: (name: NamePath) => boolean;
  
  // 验证
  validateFields: (nameList?: NamePath[]) => Promise<Record<string, any>>;
  
  // 重置
  resetFields: (fields?: NamePath[]) => void;
  
  // 提交
  submit: () => void;
  
  // 内部方法
  getInternalHooks: (key: string) => InternalHooks | null;
}

interface InternalHooks {
  dispatch: (action: any) => void;
  registerField: (entity: FieldEntity) => () => void;
}
```

---

### TableInstance 表格实例

```typescript
interface TableInstance<T = any> {
  scrollTo: (config: { index?: number; key?: string | number; top?: number }) => void;
}
```

---

### ModalInstance 对话框实例

```typescript
interface ModalInstance {
  destroy: () => void;
  update: (config: ModalConfig) => void;
}
```

---

### MessageInstance 消息实例

```typescript
interface MessageInstance {
  (): void;
}
```

---

## 十、主题包开发接口

### ThemePackageManifest 主题包清单

```typescript
interface ThemePackageManifest {
  name: string;
  version: string;
  description: string;
  author: string;
  license: string;
  chipsTheme: ThemeConfig;
  main: string;
  files: string[];
  scripts?: Record<string, string>;
  dependencies?: Record<string, string>;
  devDependencies?: Record<string, string>;
}
```

---

### ThemeTokens 设计Tokens

```typescript
interface ThemeTokens {
  // 颜色系统
  colors: ColorTokens;
  
  // 字体系统
  typography: TypographyTokens;
  
  // 间距系统
  spacing: SpacingTokens;
  
  // 圆角系统
  borderRadius: BorderRadiusTokens;
  
  // 阴影系统
  shadows: ShadowTokens;
  
  // 动画系统
  transitions: TransitionTokens;
  
  // 层级系统
  zIndex: ZIndexTokens;
}

interface ColorTokens {
  primary: string;
  secondary: string;
  success: string;
  warning: string;
  error: string;
  info: string;
  text: {
    primary: string;
    secondary: string;
    tertiary: string;
    disabled: string;
  };
  background: {
    base: string;
    container: string;
    elevated: string;
    layout: string;
    mask: string;
  };
  border: {
    default: string;
    light: string;
    dark: string;
  };
}

interface TypographyTokens {
  fontFamily: {
    base: string;
    mono: string;
  };
  fontSize: {
    xs: string;
    sm: string;
    base: string;
    lg: string;
    xl: string;
    '2xl': string;
    '3xl': string;
  };
  fontWeight: {
    light: number;
    normal: number;
    medium: number;
    semibold: number;
    bold: number;
  };
  lineHeight: {
    tight: number;
    base: number;
    relaxed: number;
  };
}

interface SpacingTokens {
  xs: string;
  sm: string;
  base: string;
  md: string;
  lg: string;
  xl: string;
  '2xl': string;
  '3xl': string;
}

interface BorderRadiusTokens {
  none: string;
  sm: string;
  base: string;
  md: string;
  lg: string;
  xl: string;
  '2xl': string;
  full: string;
}

interface ShadowTokens {
  xs: string;
  sm: string;
  base: string;
  lg: string;
  xl: string;
  '2xl': string;
  inner: string;
}

interface TransitionTokens {
  fast: string;
  base: string;
  slow: string;
  timing: string;
}

interface ZIndexTokens {
  dropdown: number;
  fixed: number;
  modalBackdrop: number;
  modal: number;
  popover: number;
  tooltip: number;
  notification: number;
}
```

---

## 总结

Chips前端组件库提供了完整的TypeScript接口定义体系，覆盖了组件Props、事件、主题、样式、数据、配置、工具类型和插件等各个方面。所有接口都经过精心设计，提供了清晰的类型约束和良好的类型推断，确保了开发体验和类型安全。通过这些接口定义，开发者可以充分利用TypeScript的类型系统，构建类型安全的应用。
