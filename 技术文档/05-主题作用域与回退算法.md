# 主题作用域与回退算法

## 1. 作用域模型

- `:root` 级默认主题。
- `.theme-<id>` 容器级主题。
- 组件级局部 token 覆盖。

## 2. 回退算法

逻辑表达：

```text
resolvedToken = local || container || app || global || default
```

- 对任意 token key 单独执行，不做整包强覆盖。
- 对 motion/elevation/density 与 color 同等处理。
- 对未声明 token 输出告警日志。

## 3. 运行时机制

- 首选 CSS 变量继承链。
- JS 仅读取必要动态参数（如弹簧参数注入动画引擎）。
- 主题切换时触发最小化渲染更新。
