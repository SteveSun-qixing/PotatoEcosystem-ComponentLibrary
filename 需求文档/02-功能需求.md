# 薯片组件库 - 功能需求

**版本**: 1.0.0  
**更新时间**: 2026-01-31

---

## 概述

本文档定义了薯片组件库必须实现的所有组件及其功能需求。所有组件必须遵循**功能与样式完全分离**的原则，组件只实现功能逻辑和布局结构，不包含任何样式代码。

### 核心原则

1. **功能实现**：组件实现完整的功能逻辑和交互行为
2. **布局定义**：组件定义DOM结构和元素层级关系
3. **样式接口点**：组件暴露CSS类名供主题包注入样式
4. **零样式代码**：组件代码中不包含任何颜色、字体、间距等样式属性
5. **集成基础层**：通过内核调用公共基础层的通用功能
6. **多语言支持**：所有文本使用系统词汇编码，不硬编码

---

## 1. 基础组件（Basic Components）

基础组件是构建界面的最小功能单元，提供单一明确的功能。

### 1.1 输入类组件

#### Button 按钮

**功能描述**
- 提供可点击的按钮交互
- 支持不同的按钮类型（主按钮、次按钮、文本按钮、链接按钮等）
- 支持禁用状态
- 支持加载状态
- 支持图标按钮
- 支持按钮组

**Props接口**
- `type`: 按钮类型（primary、default、dashed、link、text）
- `size`: 按钮尺寸（small、medium、large）
- `disabled`: 是否禁用
- `loading`: 是否加载中
- `icon`: 按钮图标
- `onClick`: 点击事件处理
- `htmlType`: HTML原生类型（button、submit、reset）

**样式接口点**
- `.chips-button`：按钮容器
- `.chips-button-primary`：主按钮变体
- `.chips-button-text`：文本内容
- `.chips-button-icon`：图标元素
- `.chips-button-disabled`：禁用状态
- `.chips-button-loading`：加载状态
- `.chips-button-sm`：小尺寸
- `.chips-button-lg`：大尺寸

**与基础层集成**
- 可选：调用`UIControls.createButton`创建基础按钮元素
- 在基础按钮上添加业务级功能（loading状态、图标支持等）

#### Input 输入框

**功能描述**
- 单行文本输入
- 支持不同输入类型（text、password、number、email等）
- 支持前缀和后缀
- 支持清除按钮
- 支持字数限制
- 支持输入验证

**Props接口**
- `value`: 输入值
- `type`: 输入类型
- `placeholder`: 占位文本（使用词汇编码）
- `disabled`: 是否禁用
- `maxLength`: 最大长度
- `prefix`: 前缀内容
- `suffix`: 后缀内容
- `clearable`: 是否可清除
- `onChange`: 值变化事件
- `onPressEnter`: 按Enter事件

**样式接口点**
- `.chips-input`：输入框容器
- `.chips-input-inner`：输入框本体
- `.chips-input-prefix`：前缀区域
- `.chips-input-suffix`：后缀区域
- `.chips-input-clear`：清除按钮
- `.chips-input-disabled`：禁用状态
- `.chips-input-error`：错误状态

**与基础层集成**
- 可选：调用`UIControls.createInput`创建基础输入框
- 添加前缀后缀、清除按钮等业务功能

#### Textarea 多行文本框

**功能描述**
- 多行文本输入
- 支持自动高度调整
- 支持字数统计
- 支持最大行数限制

**Props接口**
- `value`: 输入值
- `rows`: 行数
- `autoSize`: 自动调整高度
- `maxLength`: 最大长度
- `showCount`: 显示字数
- `onChange`: 值变化事件

**样式接口点**
- `.chips-textarea`：文本框容器
- `.chips-textarea-inner`：文本框本体
- `.chips-textarea-count`：字数统计

#### Select 选择器

**功能描述**
- 下拉选择
- 支持单选和多选
- 支持搜索过滤
- 支持分组
- 支持自定义选项模板
- 支持虚拟滚动（大量选项）

**Props接口**
- `value`: 选中值
- `options`: 选项列表
- `multiple`: 是否多选
- `searchable`: 是否可搜索
- `placeholder`: 占位文本（使用词汇编码）
- `disabled`: 是否禁用
- `onChange`: 选择变化事件
- `onSearch`: 搜索事件

**样式接口点**
- `.chips-select`：选择器容器
- `.chips-select-selector`：选择框
- `.chips-select-dropdown`：下拉菜单
- `.chips-select-option`：选项
- `.chips-select-option-selected`：选中选项

#### Checkbox 复选框

**功能描述**
- 复选框选择
- 支持复选框组
- 支持全选/反选
- 支持禁用状态
- 支持半选状态

**Props接口**
- `checked`: 是否选中
- `disabled`: 是否禁用
- `indeterminate`: 半选状态
- `onChange`: 选择变化事件

**样式接口点**
- `.chips-checkbox`：复选框容器
- `.chips-checkbox-input`：输入框
- `.chips-checkbox-inner`：复选框样式
- `.chips-checkbox-checked`：选中状态
- `.chips-checkbox-indeterminate`：半选状态

#### Radio 单选框

**功能描述**
- 单选框选择
- 支持单选框组
- 支持按钮样式单选

**Props接口**
- `checked`: 是否选中
- `value`: 单选值
- `disabled`: 是否禁用
- `onChange`: 选择变化事件

**样式接口点**
- `.chips-radio`：单选框容器
- `.chips-radio-input`：输入框
- `.chips-radio-inner`：单选框样式
- `.chips-radio-checked`：选中状态

#### Switch 开关

**功能描述**
- 开关切换
- 支持自定义开关内容
- 支持加载状态

**Props接口**
- `checked`: 是否开启
- `disabled`: 是否禁用
- `loading`: 是否加载中
- `checkedContent`: 开启时内容
- `uncheckedContent`: 关闭时内容
- `onChange`: 切换事件

**样式接口点**
- `.chips-switch`：开关容器
- `.chips-switch-handle`：滑块
- `.chips-switch-inner`：内容区域
- `.chips-switch-checked`：开启状态

#### Slider 滑块

**功能描述**
- 滑块选择数值
- 支持范围选择
- 支持步长设置
- 支持刻度显示

**Props接口**
- `value`: 当前值
- `min`: 最小值
- `max`: 最大值
- `step`: 步长
- `range`: 是否范围选择
- `marks`: 刻度标记
- `onChange`: 值变化事件

**样式接口点**
- `.chips-slider`：滑块容器
- `.chips-slider-rail`：轨道
- `.chips-slider-track`：已选轨道
- `.chips-slider-handle`：滑块手柄
- `.chips-slider-mark`：刻度标记

#### DatePicker 日期选择器

**功能描述**
- 日期选择
- 支持日期范围选择
- 支持时间选择
- 支持日期时间组合
- 支持快捷选择
- 支持禁用日期规则

**Props接口**
- `value`: 选中日期
- `format`: 日期格式
- `showTime`: 显示时间
- `range`: 是否范围选择
- `disabledDate`: 禁用日期规则
- `onChange`: 日期变化事件

**样式接口点**
- `.chips-date-picker`：日期选择器容器
- `.chips-date-picker-input`：输入框
- `.chips-date-picker-dropdown`：下拉面板
- `.chips-date-picker-cell`：日期单元格
- `.chips-date-picker-cell-selected`：选中日期

**与基础层集成**
- 使用`I18nSystem`进行日期格式化和本地化

#### Upload 上传

**功能描述**
- 文件上传
- 支持拖拽上传
- 支持多文件上传
- 支持上传进度
- 支持文件预览
- 支持文件类型限制

**Props接口**
- `accept`: 接受的文件类型
- `multiple`: 是否多文件
- `maxSize`: 最大文件大小
- `maxCount`: 最大文件数
- `onUpload`: 上传处理函数
- `onProgress`: 进度回调
- `onSuccess`: 成功回调
- `onError`: 错误回调

**样式接口点**
- `.chips-upload`：上传组件容器
- `.chips-upload-drag`：拖拽区域
- `.chips-upload-list`：文件列表
- `.chips-upload-list-item`：文件项

**与基础层集成**
- 调用`DownloadManager`处理文件上传

### 1.2 展示类组件

#### Text 文本

**功能描述**
- 文本显示
- 支持不同文本类型（标题、正文、说明等）
- 支持省略和展开
- 支持复制功能
- 支持文本标记

**Props接口**
- `type`: 文本类型（primary、secondary、success、warning、danger）
- `ellipsis`: 是否省略
- `copyable`: 是否可复制
- `content`: 文本内容

**样式接口点**
- `.chips-text`：文本容器
- `.chips-text-primary`：主要文本
- `.chips-text-secondary`：次要文本
- `.chips-text-ellipsis`：省略状态

#### Image 图片

**功能描述**
- 图片显示
- 支持懒加载
- 支持预览
- 支持加载失败占位
- 支持图片裁剪模式

**Props接口**
- `src`: 图片地址
- `alt`: 替代文本
- `width`: 图片宽度
- `height`: 图片高度
- `lazy`: 是否懒加载
- `preview`: 是否可预览
- `fallback`: 加载失败占位图
- `fit`: 裁剪模式（contain、cover、fill、none）

**样式接口点**
- `.chips-image`：图片容器
- `.chips-image-img`：图片元素
- `.chips-image-placeholder`：占位符
- `.chips-image-preview`：预览蒙层

**与基础层集成**
- 调用`ImageViewer`显示图片预览

#### Icon 图标

**功能描述**
- 图标显示
- 支持图标库
- 支持自定义图标
- 支持图标动画（旋转）

**Props接口**
- `name`: 图标名称
- `size`: 图标大小
- `spin`: 是否旋转
- `rotate`: 旋转角度

**样式接口点**
- `.chips-icon`：图标容器
- `.chips-icon-spin`：旋转动画

#### Tag 标签

**功能描述**
- 标签显示
- 支持可关闭标签
- 支持标签颜色
- 支持标签图标

**Props接口**
- `closable`: 是否可关闭
- `color`: 标签颜色语义（success、warning、error、info）
- `icon`: 标签图标
- `onClose`: 关闭事件

**样式接口点**
- `.chips-tag`：标签容器
- `.chips-tag-close`：关闭按钮
- `.chips-tag-success`：成功标签

#### Badge 徽标

**功能描述**
- 徽标显示
- 支持数字徽标
- 支持点状徽标
- 支持自定义内容
- 支持最大数字显示

**Props接口**
- `count`: 徽标数字
- `dot`: 是否点状
- `showZero`: 零时是否显示
- `max`: 最大数字

**样式接口点**
- `.chips-badge`：徽标容器
- `.chips-badge-count`：数字徽标
- `.chips-badge-dot`：点状徽标

#### Avatar 头像

**功能描述**
- 头像显示
- 支持图片头像
- 支持文字头像
- 支持头像组
- 支持不同形状（圆形、方形）

**Props接口**
- `src`: 头像图片
- `alt`: 替代文本
- `size`: 头像大小
- `shape`: 头像形状（circle、square）
- `text`: 文字内容

**样式接口点**
- `.chips-avatar`：头像容器
- `.chips-avatar-circle`：圆形头像
- `.chips-avatar-square`：方形头像

#### Divider 分割线

**功能描述**
- 分割线
- 支持横向和纵向
- 支持带文字的分割线

**Props接口**
- `direction`: 方向（horizontal、vertical）
- `text`: 分割线文字
- `textPosition`: 文字位置（left、center、right）

**样式接口点**
- `.chips-divider`：分割线容器
- `.chips-divider-horizontal`：横向分割线
- `.chips-divider-vertical`：纵向分割线
- `.chips-divider-text`：文字内容

### 1.3 反馈类组件

#### Modal 对话框

**功能描述**
- 模态对话框
- 支持自定义内容
- 支持确认取消操作
- 支持拖拽移动
- 支持全屏模式
- 支持嵌套对话框

**Props接口**
- `visible`: 是否可见
- `title`: 标题（使用词汇编码）
- `width`: 对话框宽度
- `closable`: 是否显示关闭按钮
- `maskClosable`: 点击遮罩是否关闭
- `footer`: 底部内容
- `onOk`: 确认事件
- `onCancel`: 取消事件

**样式接口点**
- `.chips-modal`：对话框容器
- `.chips-modal-mask`：遮罩层
- `.chips-modal-wrap`：包装层
- `.chips-modal-content`：内容区域
- `.chips-modal-header`：头部
- `.chips-modal-body`：主体
- `.chips-modal-footer`：底部

**与基础层集成**
- 调用`WindowManager`创建模态窗口

#### Drawer 抽屉

**功能描述**
- 抽屉面板
- 支持四个方向弹出（上下左右）
- 支持多层抽屉

**Props接口**
- `visible`: 是否可见
- `placement`: 弹出位置（top、right、bottom、left）
- `width`: 抽屉宽度（left/right时）
- `height`: 抽屉高度（top/bottom时）
- `closable`: 是否显示关闭按钮
- `onClose`: 关闭事件

**样式接口点**
- `.chips-drawer`：抽屉容器
- `.chips-drawer-mask`：遮罩层
- `.chips-drawer-content`：内容区域
- `.chips-drawer-left`：左侧抽屉

#### Message 消息提示

**功能描述**
- 全局消息提示
- 支持不同类型（成功、警告、错误、信息）
- 支持自动关闭
- 支持手动关闭

**Props接口**
- `type`: 消息类型（success、warning、error、info）
- `content`: 消息内容（使用词汇编码）
- `duration`: 显示时长（毫秒）
- `closable`: 是否可关闭

**样式接口点**
- `.chips-message`：消息容器
- `.chips-message-success`：成功消息
- `.chips-message-error`：错误消息
- `.chips-message-icon`：图标

#### Notification 通知

**功能描述**
- 通知提醒
- 支持不同位置显示
- 支持自定义图标
- 支持操作按钮

**Props接口**
- `type`: 通知类型
- `title`: 通知标题（使用词汇编码）
- `content`: 通知内容（使用词汇编码）
- `placement`: 显示位置（topLeft、topRight、bottomLeft、bottomRight）
- `duration`: 显示时长
- `onClose`: 关闭回调

**样式接口点**
- `.chips-notification`：通知容器
- `.chips-notification-notice`：通知项
- `.chips-notification-title`：标题
- `.chips-notification-content`：内容

#### Tooltip 文字提示

**功能描述**
- 文字提示气泡
- 支持不同触发方式（hover、click、focus）
- 支持不同位置（上下左右及各种组合）

**Props接口**
- `content`: 提示内容（使用词汇编码）
- `placement`: 显示位置
- `trigger`: 触发方式
- `visible`: 是否可见

**样式接口点**
- `.chips-tooltip`：提示容器
- `.chips-tooltip-inner`：内容区域
- `.chips-tooltip-arrow`：箭头

#### Popover 气泡卡片

**功能描述**
- 气泡卡片
- 支持自定义内容
- 支持不同触发方式

**Props接口**
- `title`: 标题（使用词汇编码）
- `content`: 内容
- `placement`: 显示位置
- `trigger`: 触发方式
- `visible`: 是否可见

**样式接口点**
- `.chips-popover`：气泡容器
- `.chips-popover-inner`：内容区域
- `.chips-popover-title`：标题
- `.chips-popover-content`：内容

#### Loading 加载中

**功能描述**
- 加载中状态
- 支持全屏加载
- 支持局部加载
- 支持自定义加载图标

**Props接口**
- `spinning`: 是否加载中
- `tip`: 加载提示文本（使用词汇编码）
- `fullscreen`: 是否全屏
- `indicator`: 自定义加载图标

**样式接口点**
- `.chips-loading`：加载容器
- `.chips-loading-spinner`：加载图标
- `.chips-loading-text`：提示文本

#### Progress 进度条

**功能描述**
- 进度条显示
- 支持线形和环形
- 支持进度百分比
- 支持进度状态（成功、失败）

**Props接口**
- `percent`: 进度百分比（0-100）
- `type`: 进度条类型（line、circle）
- `status`: 进度状态（success、error、active）
- `showInfo`: 是否显示进度文字

**样式接口点**
- `.chips-progress`：进度条容器
- `.chips-progress-line`：线形进度条
- `.chips-progress-circle`：环形进度条
- `.chips-progress-bar`：进度条

### 1.4 导航类组件

#### Menu 菜单

**功能描述**
- 菜单导航
- 支持多级菜单
- 支持横向和纵向
- 支持菜单折叠
- 支持菜单图标

**Props接口**
- `items`: 菜单项
- `mode`: 菜单模式（horizontal、vertical、inline）
- `selectedKey`: 选中项
- `collapsed`: 是否折叠
- `onSelect`: 选择事件

**样式接口点**
- `.chips-menu`：菜单容器
- `.chips-menu-item`：菜单项
- `.chips-menu-submenu`：子菜单
- `.chips-menu-item-selected`：选中项

#### Tabs 标签页

**功能描述**
- 标签页切换
- 支持多种标签样式
- 支持标签增删
- 支持标签拖拽排序

**Props接口**
- `items`: 标签项
- `activeKey`: 当前激活标签
- `type`: 标签类型（line、card）
- `editable`: 是否可编辑
- `onChange`: 切换事件
- `onEdit`: 编辑事件

**样式接口点**
- `.chips-tabs`：标签页容器
- `.chips-tabs-nav`：导航栏
- `.chips-tabs-tab`：标签项
- `.chips-tabs-content`：内容区域

#### Breadcrumb 面包屑

**功能描述**
- 面包屑导航
- 支持自定义分隔符
- 支持路由集成

**Props接口**
- `items`: 面包屑项
- `separator`: 分隔符

**样式接口点**
- `.chips-breadcrumb`：面包屑容器
- `.chips-breadcrumb-item`：面包屑项
- `.chips-breadcrumb-separator`：分隔符

#### Pagination 分页

**功能描述**
- 分页导航
- 支持页码跳转
- 支持每页数量选择
- 支持简洁模式

**Props接口**
- `current`: 当前页
- `total`: 总条数
- `pageSize`: 每页条数
- `showSizeChanger`: 显示每页条数选择
- `showQuickJumper`: 显示快速跳转
- `onChange`: 页码变化事件

**样式接口点**
- `.chips-pagination`：分页容器
- `.chips-pagination-item`：页码项
- `.chips-pagination-item-active`：当前页

#### Dropdown 下拉菜单

**功能描述**
- 下拉菜单
- 支持多级菜单
- 支持不同触发方式

**Props接口**
- `items`: 菜单项
- `trigger`: 触发方式
- `placement`: 显示位置

**样式接口点**
- `.chips-dropdown`：下拉菜单容器
- `.chips-dropdown-menu`：菜单
- `.chips-dropdown-item`：菜单项

---

## 2. 布局组件（Layout Components）

布局组件提供页面的整体结构和空间组织。

> **重要说明**：箱子布局（如瀑布流、网格、时间线等）的**具体实现在布局插件中**，组件库只提供 `BoxLayoutView` 作为 iframe 容器组件。详见 [插件开发规范 - 布局插件开发](../../生态共用/07-插件开发规范.md)。

### Grid 栅格

**功能描述**
- 响应式栅格布局
- 支持24栅格系统
- 支持间距设置
- 支持响应式断点（xs、sm、md、lg、xl）

**Props接口**
- **Row组件**：
  - `gutter`: 间距
  - `justify`: 水平对齐方式
  - `align`: 垂直对齐方式
- **Col组件**：
  - `span`: 栅格数（1-24）
  - `offset`: 偏移
  - `xs/sm/md/lg/xl`: 响应式设置

**样式接口点**
- `.chips-row`：行容器
- `.chips-col`：列容器
- `.chips-col-12`：12栅格宽度

### Flex 弹性布局

**功能描述**
- Flexbox布局容器
- 支持方向设置
- 支持对齐方式
- 支持换行控制

**Props接口**
- `direction`: 主轴方向（row、column）
- `justify`: 主轴对齐方式
- `align`: 交叉轴对齐方式
- `wrap`: 是否换行
- `gap`: 间距

**样式接口点**
- `.chips-flex`：Flex容器

### Container 容器

**功能描述**
- 页面容器
- 支持最大宽度限制
- 支持内边距设置
- 支持居中对齐

**Props接口**
- `maxWidth`: 最大宽度
- `padding`: 内边距
- `centered`: 是否居中

**样式接口点**
- `.chips-container`：容器

### Layout 布局

**功能描述**
- 整体布局框架
- 支持Header、Sider、Content、Footer组合
- 支持侧边栏折叠

**Props接口**
- **Layout**：整体布局容器
- **Header**：顶部布局
- **Sider**：侧边栏布局
  - `collapsible`: 可折叠
  - `collapsed`: 折叠状态
- **Content**：内容布局
- **Footer**：底部布局

**样式接口点**
- `.chips-layout`：布局容器
- `.chips-layout-header`：顶部
- `.chips-layout-sider`：侧边栏
- `.chips-layout-content`：内容
- `.chips-layout-footer`：底部

### Space 间距

**功能描述**
- 元素间距控制
- 支持方向设置
- 支持自动换行
- 支持对齐方式

**Props接口**
- `size`: 间距大小
- `direction`: 排列方向
- `wrap`: 是否换行
- `align`: 对齐方式

**样式接口点**
- `.chips-space`：间距容器
- `.chips-space-item`：子元素

### Card 卡片容器

**功能描述**
- 卡片容器
- 支持标题和操作区
- 支持内边距设置
- 支持可悬停效果

**Props接口**
- `title`: 卡片标题（使用词汇编码）
- `extra`: 右上角操作区
- `bordered`: 是否有边框
- `hoverable`: 鼠标悬停效果

**样式接口点**
- `.chips-card`：卡片容器
- `.chips-card-header`：头部
- `.chips-card-body`：主体
- `.chips-card-hoverable`：可悬停

### Collapse 折叠面板

**功能描述**
- 折叠面板
- 支持手风琴模式
- 支持默认展开

**Props接口**
- `activeKey`: 当前展开项
- `accordion`: 手风琴模式
- `onChange`: 展开变化事件

**样式接口点**
- `.chips-collapse`：折叠面板容器
- `.chips-collapse-item`：面板项
- `.chips-collapse-header`：头部
- `.chips-collapse-content`：内容

### BoxLayoutView 箱子布局视图

> **重要说明**：这是一个 **iframe 容器组件**，用于显示箱子布局插件渲染的内容。具体的箱子布局实现（瀑布流、网格、时间线等）在各自的**布局插件**中，组件库只提供这个占位/转接口组件。

**功能描述**
- 作为布局插件 iframe 的容器
- 接收布局插件ID和箱子数据
- 管理 iframe 与主应用的通信
- 处理加载状态和错误状态
- 转发卡片点击等事件

**Props接口**
- `layoutPluginId`: 布局插件ID（如 chips:waterfall-layout）
- `boxId`: 箱子ID
- `boxData`: 箱子数据（卡片列表、布局配置）
- `theme`: 主题包标识
- `width`: iframe 宽度
- `height`: iframe 高度
- `editable`: 是否可编辑模式

**事件**
- `onLoad`: iframe 加载完成
- `onError`: 加载失败
- `onCardClick`: 卡片被点击
- `onLayoutChange`: 布局配置变化

**样式接口点**
- `.chips-box-layout-view`：容器
- `.chips-box-layout-view--loading`：加载中状态
- `.chips-box-layout-view--error`：错误状态
- `.chips-box-layout-view__loading`：加载占位
- `.chips-box-layout-view__error`：错误显示
- `.chips-box-layout-view__iframe`：iframe 元素

**支持的布局插件**

| 布局类型 | 插件ID | 说明 |
|---------|--------|------|
| 列表布局 | chips:list-layout | 垂直或水平列表 |
| 网格布局 | chips:grid-layout | 固定网格排列 |
| 瀑布流布局 | chips:waterfall-layout | 瀑布流算法排列 |
| 无限桌面 | chips:canvas-layout | 自由摆放画布 |
| 时间线布局 | chips:timeline-layout | 按时间排列 |
| 书架布局 | chips:bookshelf-layout | 模拟书架展示 |
| 朋友圈布局 | chips:moments-layout | 社交动态流 |
| 个人主页空间 | chips:profile-layout | 个人主页区块 |

---

## 3. 表单组件（Form Components）

### Form 表单

**功能描述**
- 表单容器和管理
- 支持表单验证
- 支持表单布局
- 支持表单联动
- 支持表单重置和提交

**Props接口**
- `initialValues`: 初始值
- `layout`: 表单布局（horizontal、vertical、inline）
- `onSubmit`: 提交事件
- `onValuesChange`: 值变化事件

**功能方法**
- `getFieldValue`: 获取字段值
- `setFieldValue`: 设置字段值
- `validateFields`: 验证表单
- `resetFields`: 重置表单
- `submit`: 提交表单

**样式接口点**
- `.chips-form`：表单容器
- `.chips-form-horizontal`：水平布局
- `.chips-form-vertical`：垂直布局

### FormItem 表单项

**功能描述**
- 表单项包装器
- 支持标签显示
- 支持验证规则
- 支持错误提示
- 支持必填标记

**Props接口**
- `label`: 字段标签（使用词汇编码）
- `name`: 字段名称
- `rules`: 验证规则
- `required`: 是否必填
- `help`: 帮助提示（使用词汇编码）
- `validateStatus`: 验证状态

**样式接口点**
- `.chips-form-item`：表单项容器
- `.chips-form-item-label`：标签
- `.chips-form-item-control`：控件区域
- `.chips-form-item-error`：错误提示

### FormList 动态表单项列表

**功能描述**
- 动态表单项列表
- 支持添加/删除表单项
- 支持拖拽排序

**Props接口**
- `name`: 字段名称
- `initialValue`: 初始值

**功能方法**
- `add`: 添加项
- `remove`: 删除项
- `move`: 移动项

---

## 4. 卡片辅助组件（Card Helper Components）

> **重要说明**：具体的基础卡片组件（如 MarkdownCard、VideoCard、ImageCard 等）**不属于组件库**，它们应该在各自的**基础卡片插件**中实现。详见 [插件开发规范](../../生态共用/07-插件开发规范.md) 和 [基础卡片插件的结构](../../生态设计原稿（一切标准）/03-基础卡片插件的结构.md)。
>
> 组件库只提供以下通用辅助组件，供基础卡片插件开发时使用。

### CardWrapper 卡片包装器

**功能描述**
- 为基础卡片提供通用的外层容器
- 提供卡片的基础布局框架
- 支持卡片级别的主题应用
- 支持编辑模式标识

**Props接口**
- `cardId`: 卡片ID
- `cardType`: 卡片类型标识
- `theme`: 主题包标识
- `editable`: 是否可编辑模式
- `onEdit`: 编辑事件
- `children`: 子内容

**样式接口点**
- `.chips-card-wrapper`：卡片包装容器
- `.chips-card-wrapper--editable`：可编辑状态
- `.chips-card-wrapper__header`：头部区域
- `.chips-card-wrapper__content`：内容区域
- `.chips-card-wrapper__footer`：底部区域

### CardHeader 卡片头部

**功能描述**
- 卡片的标题栏组件
- 显示卡片标题和操作按钮
- 支持自定义操作区

**Props接口**
- `title`: 卡片标题
- `actions`: 操作按钮列表
- `closable`: 是否显示关闭按钮
- `onClose`: 关闭事件

**样式接口点**
- `.chips-card-header`：头部容器
- `.chips-card-header__title`：标题
- `.chips-card-header__actions`：操作区域

### CardLoading 卡片加载状态

**功能描述**
- 卡片加载中的占位组件
- 显示加载动画
- 支持自定义加载提示

**Props接口**
- `tip`: 加载提示文本（使用词汇编码）

**样式接口点**
- `.chips-card-loading`：加载容器
- `.chips-card-loading__spinner`：加载动画
- `.chips-card-loading__tip`：提示文本

### CardError 卡片错误状态

**功能描述**
- 卡片加载失败的错误展示
- 显示错误信息
- 支持重试操作

**Props接口**
- `error`: 错误信息
- `retryable`: 是否可重试
- `onRetry`: 重试回调

**样式接口点**
- `.chips-card-error`：错误容器
- `.chips-card-error__icon`：错误图标
- `.chips-card-error__message`：错误信息
- `.chips-card-error__retry`：重试按钮

### CardPlaceholder 卡片占位符

**功能描述**
- 卡片内容为空时的占位展示
- 支持自定义占位内容
- 引导用户添加内容

**Props接口**
- `icon`: 占位图标
- `text`: 占位文本（使用词汇编码）
- `action`: 操作按钮配置

**样式接口点**
- `.chips-card-placeholder`：占位容器
- `.chips-card-placeholder__icon`：图标
- `.chips-card-placeholder__text`：文本
- `.chips-card-placeholder__action`：操作按钮

---

## 5. 数据组件（Data Components）

### Table 表格

**功能描述**
- 数据表格
- 支持排序
- 支持筛选
- 支持分页
- 支持展开行
- 支持固定列
- 支持虚拟滚动（大数据量）

**Props接口**
- `columns`: 列配置
- `dataSource`: 数据源
- `pagination`: 分页配置
- `loading`: 加载状态
- `rowSelection`: 行选择配置
- `onChange`: 表格变化事件

**样式接口点**
- `.chips-table`：表格容器
- `.chips-table-thead`：表头
- `.chips-table-tbody`：表体
- `.chips-table-row`：行
- `.chips-table-cell`：单元格

### List 列表

**功能描述**
- 数据列表
- 支持虚拟滚动
- 支持无限加载

**Props接口**
- `dataSource`: 数据源
- `renderItem`: 渲染函数
- `loading`: 加载状态
- `loadMore`: 加载更多

**样式接口点**
- `.chips-list`：列表容器
- `.chips-list-item`：列表项

### Tree 树形控件

**功能描述**
- 树形数据展示
- 支持节点展开折叠
- 支持节点选择
- 支持拖拽排序

**Props接口**
- `treeData`: 树形数据
- `expandedKeys`: 展开的节点
- `selectedKeys`: 选中的节点
- `checkable`: 是否可勾选
- `draggable`: 是否可拖拽
- `onSelect`: 选择事件
- `onExpand`: 展开事件

**样式接口点**
- `.chips-tree`：树形控件容器
- `.chips-tree-node`：节点
- `.chips-tree-node-content`：节点内容

**与基础层集成**
- 调用`DragDropSystem`实现节点拖拽

---

## 6. 特殊组件

### ThemeProvider 主题提供者

**功能描述**
- 主题注入组件
- 管理主题上下文
- 支持主题切换
- 支持主题嵌套

**Props接口**
- `theme`: 主题包对象或ID
- `children`: 子组件

**功能**
- 加载主题包
- 注入CSS变量
- 管理主题作用域
- 监听主题变化

### ChipsProvider 生态提供者

**功能描述**
- 生态上下文提供者
- 注入内核连接
- 注入SDK实例
- 提供全局配置

**Props接口**
- `kernelConnection`: 内核连接
- `config`: 全局配置
- `children`: 子组件

**功能**
- 建立内核连接
- 提供SDK访问
- 提供全局状态
- 提供多语言支持

### ErrorBoundary 错误边界

**功能描述**
- 错误捕获组件
- 防止组件崩溃
- 显示错误提示

**Props接口**
- `fallback`: 错误时显示的内容
- `onError`: 错误回调

**功能**
- 捕获组件错误
- 记录错误日志
- 显示降级UI

---

## 7. 功能优先级

### P0 核心组件（第一阶段必须实现）

**基础组件**
- Button、Input、Textarea、Select
- Checkbox、Radio、Switch
- Text、Image、Icon
- Modal、Message、Loading

**布局组件**
- Grid、Flex、Container、Layout
- Space、Card

**表单组件**
- Form、FormItem

**卡片辅助组件**
- CardWrapper、CardHeader
- CardLoading、CardError

**特殊组件**
- ThemeProvider、ChipsProvider

### P1 重要组件（第二阶段实现）

**基础组件**
- Slider、DatePicker、Upload
- Tag、Badge、Avatar、Divider
- Drawer、Notification、Tooltip、Popover
- Progress

**导航组件**
- Menu、Tabs、Breadcrumb、Pagination、Dropdown

**卡片辅助组件**
- CardPlaceholder

**数据组件**
- Table、List

### P2 扩展组件（第三阶段实现）

**数据组件**
- Tree

**特殊组件**
- ErrorBoundary

### P3 增强功能（持续优化）

- 组件动画效果
- 无障碍支持增强
- 多语言支持完善（系统统一方案，详见 [多语言系统规范](../../生态共用/11-多语言系统规范.md)）
- 响应式优化

---

## 8. 非功能需求

### 8.1 性能要求

- **组件渲染性能**：首次渲染时间 < 100ms
- **大列表渲染**：支持虚拟滚动，渲染万条数据不卡顿
- **包体积**：核心包 < 100KB（gzipped）
- **按需加载**：支持组件按需引入
- **主题切换**：主题切换时间 < 200ms

### 8.2 兼容性要求

- **现代浏览器**：Chrome、Firefox、Safari、Edge最新两个版本
- **移动端浏览器**：iOS Safari、Android Chrome
- **框架支持**：React 18+、Vue 3.0+（计划）、Svelte 3.0+（计划）

### 8.3 可访问性要求

- **键盘导航**：所有交互组件支持键盘操作
- **屏幕阅读器**：提供ARIA属性和语义化标签
- **WCAG标准**：符合WCAG 2.1 AA标准
- **焦点管理**：清晰的焦点指示

### 8.4 开发体验

- **TypeScript**：完整的类型定义
- **API设计**：清晰一致的API
- **错误提示**：友好的错误提示
- **文档**：详细准确的文档
- **示例代码**：丰富的示例代码

### 8.5 多语言支持

- **零硬编码**：代码中不包含任何明文字符串
- **系统词汇编码**：所有文本使用系统统一的词汇编码
- **开发阶段key**：开发时使用人类可读的key
- **自动替换**：打包时自动将key替换为词汇编码
- **配置表管理**：所有文本在配置表中定义

> **完整规范**: 详见 [多语言系统规范](../../生态共用/11-多语言系统规范.md)

### 8.6 与基础层集成

- **中心路由**：所有对基础层的调用通过微内核路由
- **标准接口**：使用统一的请求响应格式
- **功能复用**：复用基础层的通用功能，避免重复实现
- **职责清晰**：组件库专注业务级UI，基础功能调用基础层
- **解耦独立**：组件库和基础层通过内核完全解耦

---

## 9. 总结

前端组件库提供通用UI组件，覆盖基础组件、布局组件、表单组件、数据组件等多个类别。所有组件遵循**功能与样式分离**的设计理念，暴露清晰的样式接口点供主题包注入视觉实现。

**重要说明**：组件库**不包含具体的基础卡片组件**（如 MarkdownCard、VideoCard 等）。根据薯片生态的架构设计，每种基础卡片都是一个独立的插件，包含自己的渲染组件和编辑组件。组件库只提供卡片辅助组件（CardWrapper、CardHeader 等），供基础卡片插件开发时使用。

组件库基于 Vue 3 + TypeScript 构建，通过微内核路由调用公共基础层的通用功能模块，避免重复实现底层功能，专注于业务级UI组件的开发。

组件采用分阶段实现策略，优先实现核心组件，逐步扩展到完整的组件体系。所有组件必须支持多语言（使用系统词汇编码）、主题系统、无障碍访问，并满足性能和兼容性要求。

---

**维护团队**: 薯片生态核心团队  
**最后更新**: 2026-01-31
