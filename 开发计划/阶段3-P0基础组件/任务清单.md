# 阶段3: P0基础组件 - 任务清单

**阶段目标**: 实现最核心的基础输入组件  
**预计任务数**: 9  
**依赖**: 阶段2完成  
**状态**: 待开始

---

## 组件开发规范提醒

每个组件必须遵循：

1. **功能与样式分离**: 不包含任何 CSS 样式代码
2. **多语言支持**: 使用 `t()` 获取所有文本
3. **样式接口点**: 使用 `chips-` 前缀的类名
4. **TypeScript**: 完整的类型定义
5. **测试**: 单元测试覆盖率 ≥80%
6. **受控/非受控**: 支持两种模式

---

## 任务列表

### 任务3.1: 实现 Button 按钮组件

**描述**: 实现按钮组件，支持多种类型和状态

**Props接口**:
```typescript
interface ButtonProps {
  type?: 'default' | 'primary' | 'dashed' | 'link' | 'text';
  size?: 'small' | 'medium' | 'large';
  disabled?: boolean;
  loading?: boolean;
  danger?: boolean;
  block?: boolean;
  htmlType?: 'button' | 'submit' | 'reset';
}

interface ButtonEmits {
  click: [event: MouseEvent];
}
```

**功能要求**:
- 支持5种按钮类型
- 支持3种尺寸
- 支持禁用状态
- 支持加载状态
- 支持危险按钮
- 支持块级按钮
- 支持图标插槽

**样式接口点**:
```
.chips-button                 - 按钮容器
.chips-button--default        - 默认类型
.chips-button--primary        - 主按钮
.chips-button--dashed         - 虚线按钮
.chips-button--link           - 链接按钮
.chips-button--text           - 文本按钮
.chips-button--small          - 小尺寸
.chips-button--medium         - 中尺寸
.chips-button--large          - 大尺寸
.chips-button--disabled       - 禁用状态
.chips-button--loading        - 加载状态
.chips-button--danger         - 危险按钮
.chips-button--block          - 块级按钮
.chips-button__spinner        - 加载图标
.chips-button__icon           - 图标区域
.chips-button__content        - 内容区域
```

**测试用例**:
- 渲染正确的类名
- 点击事件触发
- 禁用状态阻止点击
- 加载状态显示 spinner
- 尺寸变体正确

**文件结构**:
```
src/components/basic/Button/
├── Button.vue
├── types.ts
├── index.ts
└── __tests__/
    └── Button.test.ts
```

**验收标准**:
- [ ] 组件实现完成
- [ ] Props 类型定义完整
- [ ] 样式接口点正确暴露
- [ ] 无任何样式代码
- [ ] 单元测试覆盖率 ≥80%
- [ ] 导出配置正确

---

### 任务3.2: 实现 Input 输入框组件

**描述**: 实现单行文本输入组件

**Props接口**:
```typescript
interface InputProps {
  modelValue?: string;
  defaultValue?: string;
  type?: 'text' | 'password' | 'number' | 'email' | 'tel' | 'url';
  placeholder?: string;
  disabled?: boolean;
  readonly?: boolean;
  maxLength?: number;
  showCount?: boolean;
  clearable?: boolean;
  size?: 'small' | 'medium' | 'large';
  status?: 'error' | 'warning';
}

interface InputEmits {
  'update:modelValue': [value: string];
  change: [value: string];
  focus: [event: FocusEvent];
  blur: [event: FocusEvent];
  clear: [];
  pressEnter: [event: KeyboardEvent];
}

interface InputSlots {
  prefix?: () => VNode;
  suffix?: () => VNode;
}
```

**功能要求**:
- 支持 v-model 双向绑定
- 支持受控/非受控模式
- 支持前缀后缀插槽
- 支持清除按钮
- 支持字数统计
- 支持各种状态
- 支持 Enter 键事件

**样式接口点**:
```
.chips-input                  - 输入框容器
.chips-input__wrapper         - 包装层
.chips-input__inner           - 原生 input
.chips-input__prefix          - 前缀区域
.chips-input__suffix          - 后缀区域
.chips-input__clear           - 清除按钮
.chips-input__count           - 字数统计
.chips-input--focused         - 聚焦状态
.chips-input--disabled        - 禁用状态
.chips-input--readonly        - 只读状态
.chips-input--error           - 错误状态
.chips-input--warning         - 警告状态
.chips-input--small           - 小尺寸
.chips-input--medium          - 中尺寸
.chips-input--large           - 大尺寸
.chips-input--has-prefix      - 有前缀
.chips-input--has-suffix      - 有后缀
```

**测试用例**:
- v-model 双向绑定
- 受控模式正确工作
- 非受控模式正确工作
- 前缀后缀渲染
- 清除功能
- 字数统计显示
- 禁用状态

**验收标准**:
- [ ] 组件实现完成
- [ ] v-model 正常工作
- [ ] 所有状态正确处理
- [ ] 单元测试覆盖率 ≥80%

---

### 任务3.3: 实现 Textarea 多行文本框组件

**描述**: 实现多行文本输入组件

**Props接口**:
```typescript
interface TextareaProps {
  modelValue?: string;
  defaultValue?: string;
  placeholder?: string;
  disabled?: boolean;
  readonly?: boolean;
  rows?: number;
  maxLength?: number;
  showCount?: boolean;
  autoSize?: boolean | { minRows?: number; maxRows?: number };
  resize?: 'none' | 'both' | 'horizontal' | 'vertical';
  status?: 'error' | 'warning';
}

interface TextareaEmits {
  'update:modelValue': [value: string];
  change: [value: string];
  focus: [event: FocusEvent];
  blur: [event: FocusEvent];
}
```

**功能要求**:
- 支持 v-model 双向绑定
- 支持自动高度调整
- 支持最大/最小行数限制
- 支持字数统计
- 支持 resize 控制

**样式接口点**:
```
.chips-textarea               - 文本框容器
.chips-textarea__inner        - 原生 textarea
.chips-textarea__count        - 字数统计
.chips-textarea--focused      - 聚焦状态
.chips-textarea--disabled     - 禁用状态
.chips-textarea--error        - 错误状态
.chips-textarea--warning      - 警告状态
```

**验收标准**:
- [ ] 组件实现完成
- [ ] 自动高度调整正常
- [ ] 字数统计正确
- [ ] 单元测试覆盖率 ≥80%

---

### 任务3.4: 实现 Select 选择器组件

**描述**: 实现下拉选择组件

**Props接口**:
```typescript
interface SelectOption {
  label: string;
  value: string | number;
  disabled?: boolean;
}

interface SelectProps {
  modelValue?: string | number | (string | number)[];
  defaultValue?: string | number | (string | number)[];
  options: SelectOption[];
  placeholder?: string;
  disabled?: boolean;
  multiple?: boolean;
  searchable?: boolean;
  clearable?: boolean;
  size?: 'small' | 'medium' | 'large';
  status?: 'error' | 'warning';
  maxTagCount?: number;
  loading?: boolean;
}

interface SelectEmits {
  'update:modelValue': [value: string | number | (string | number)[]];
  change: [value: string | number | (string | number)[], option: SelectOption | SelectOption[]];
  search: [value: string];
  focus: [event: FocusEvent];
  blur: [event: FocusEvent];
  clear: [];
}
```

**功能要求**:
- 支持单选和多选
- 支持搜索过滤
- 支持清除选择
- 支持禁用选项
- 支持加载状态
- 支持多选标签展示
- 支持键盘导航

**样式接口点**:
```
.chips-select                 - 选择器容器
.chips-select__selector       - 选择框
.chips-select__selection      - 已选区域
.chips-select__tag            - 多选标签
.chips-select__arrow          - 箭头图标
.chips-select__clear          - 清除按钮
.chips-select__dropdown       - 下拉菜单
.chips-select__search         - 搜索框
.chips-select__option         - 选项
.chips-select__option--selected   - 选中选项
.chips-select__option--disabled   - 禁用选项
.chips-select__option--active     - 高亮选项
.chips-select__empty          - 空状态
.chips-select--open           - 展开状态
.chips-select--disabled       - 禁用状态
.chips-select--multiple       - 多选模式
.chips-select--loading        - 加载状态
```

**测试用例**:
- 单选功能
- 多选功能
- 搜索过滤
- 清除选择
- 禁用选项
- 键盘导航
- v-model 双向绑定

**验收标准**:
- [ ] 组件实现完成
- [ ] 单选多选正常工作
- [ ] 搜索过滤正常
- [ ] 键盘导航支持
- [ ] 单元测试覆盖率 ≥80%

---

### 任务3.5: 实现 Checkbox 复选框组件

**描述**: 实现复选框组件及复选框组

**Props接口**:
```typescript
// Checkbox
interface CheckboxProps {
  modelValue?: boolean;
  defaultChecked?: boolean;
  disabled?: boolean;
  indeterminate?: boolean;
  value?: string | number;
  name?: string;
}

interface CheckboxEmits {
  'update:modelValue': [checked: boolean];
  change: [checked: boolean, event: Event];
}

// CheckboxGroup
interface CheckboxGroupProps {
  modelValue?: (string | number)[];
  defaultValue?: (string | number)[];
  options?: CheckboxOption[];
  disabled?: boolean;
  direction?: 'horizontal' | 'vertical';
}

interface CheckboxGroupEmits {
  'update:modelValue': [values: (string | number)[]];
  change: [values: (string | number)[]];
}
```

**功能要求**:
- 单独使用的复选框
- 复选框组
- 半选状态（indeterminate）
- 全选/反选支持

**样式接口点**:
```
.chips-checkbox               - 复选框容器
.chips-checkbox__input        - 隐藏的 input
.chips-checkbox__inner        - 复选框样式元素
.chips-checkbox__icon         - 勾选图标
.chips-checkbox__label        - 标签文本
.chips-checkbox--checked      - 选中状态
.chips-checkbox--disabled     - 禁用状态
.chips-checkbox--indeterminate- 半选状态

.chips-checkbox-group         - 复选框组容器
.chips-checkbox-group--vertical - 垂直排列
```

**验收标准**:
- [ ] Checkbox 组件实现完成
- [ ] CheckboxGroup 组件实现完成
- [ ] 半选状态正常
- [ ] 全选功能正常
- [ ] 单元测试覆盖率 ≥80%

---

### 任务3.6: 实现 Radio 单选框组件

**描述**: 实现单选框组件及单选框组

**Props接口**:
```typescript
// Radio
interface RadioProps {
  modelValue?: string | number | boolean;
  value: string | number | boolean;
  disabled?: boolean;
  name?: string;
}

interface RadioEmits {
  'update:modelValue': [value: string | number | boolean];
  change: [value: string | number | boolean, event: Event];
}

// RadioGroup
interface RadioGroupProps {
  modelValue?: string | number | boolean;
  defaultValue?: string | number | boolean;
  options?: RadioOption[];
  disabled?: boolean;
  direction?: 'horizontal' | 'vertical';
  optionType?: 'default' | 'button';
  size?: 'small' | 'medium' | 'large';
}
```

**功能要求**:
- 单独使用的单选框
- 单选框组
- 按钮样式单选
- 支持 options 配置

**样式接口点**:
```
.chips-radio                  - 单选框容器
.chips-radio__input           - 隐藏的 input
.chips-radio__inner           - 单选框样式元素
.chips-radio__label           - 标签文本
.chips-radio--checked         - 选中状态
.chips-radio--disabled        - 禁用状态

.chips-radio-group            - 单选框组容器
.chips-radio-group--vertical  - 垂直排列
.chips-radio-group--button    - 按钮模式
```

**验收标准**:
- [ ] Radio 组件实现完成
- [ ] RadioGroup 组件实现完成
- [ ] 按钮样式模式正常
- [ ] 单元测试覆盖率 ≥80%

---

### 任务3.7: 实现 Switch 开关组件

**描述**: 实现开关切换组件

**Props接口**:
```typescript
interface SwitchProps {
  modelValue?: boolean;
  defaultChecked?: boolean;
  disabled?: boolean;
  loading?: boolean;
  size?: 'small' | 'medium' | 'large';
  checkedValue?: string | number | boolean;
  uncheckedValue?: string | number | boolean;
}

interface SwitchEmits {
  'update:modelValue': [checked: boolean];
  change: [checked: boolean, event: Event];
}

interface SwitchSlots {
  checked?: () => VNode;
  unchecked?: () => VNode;
}
```

**功能要求**:
- 开关切换
- 自定义开关内容
- 加载状态
- 自定义值

**样式接口点**:
```
.chips-switch                 - 开关容器
.chips-switch__rail           - 轨道
.chips-switch__handle         - 滑块
.chips-switch__inner          - 内容区域
.chips-switch__loading        - 加载图标
.chips-switch--checked        - 开启状态
.chips-switch--disabled       - 禁用状态
.chips-switch--loading        - 加载状态
.chips-switch--small          - 小尺寸
.chips-switch--large          - 大尺寸
```

**验收标准**:
- [ ] 组件实现完成
- [ ] 切换功能正常
- [ ] 加载状态正常
- [ ] 单元测试覆盖率 ≥80%

---

### 任务3.8: 实现组件导出配置

**描述**: 配置基础组件的统一导出

**详细步骤**:
1. 创建 `src/components/basic/index.ts` 导出所有基础组件
2. 更新 `src/components/index.ts` 导出
3. 更新 `src/index.ts` 根导出
4. 确保类型正确导出

**导出示例**:
```typescript
// src/components/basic/index.ts
export { default as Button } from './Button/Button.vue';
export * from './Button/types';

export { default as Input } from './Input/Input.vue';
export * from './Input/types';

// ... 其他组件
```

**验收标准**:
- [ ] 所有组件正确导出
- [ ] 类型正确导出
- [ ] 可按需导入

---

### 任务3.9: 阶段验证和提交

**描述**: 完成 P0 基础组件的验证和提交

**详细步骤**:
1. 运行所有单元测试
2. 验证组件间交互
3. 验证导出配置
4. 检查类型定义
5. 提交代码
6. 编写阶段完成总结

**验收标准**:
- [ ] 所有测试通过
- [ ] 组件可正常使用
- [ ] 导出配置正确
- [ ] 代码提交完成
- [ ] 阶段总结编写完成

---

## 阶段验收标准

完成本阶段需满足以下条件：

- [ ] Button 组件完成且测试通过
- [ ] Input 组件完成且测试通过
- [ ] Textarea 组件完成且测试通过
- [ ] Select 组件完成且测试通过
- [ ] Checkbox/CheckboxGroup 完成且测试通过
- [ ] Radio/RadioGroup 完成且测试通过
- [ ] Switch 组件完成且测试通过
- [ ] 所有组件无样式代码
- [ ] 所有组件支持多语言
- [ ] 单元测试总覆盖率 ≥80%
- [ ] 组件导出配置正确

---

## 注意事项

1. **无样式代码**: 组件只包含样式接口点（CSS类名）
2. **受控/非受控**: 所有输入组件必须支持两种模式
3. **键盘支持**: 所有可交互组件支持键盘操作
4. **无障碍**: 添加必要的 ARIA 属性

---

**更新时间**: 2026-02-01
